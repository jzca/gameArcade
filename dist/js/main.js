!function(){var n={},i=[];function t(e){if(n[e])return n[e];var t=new Image;t.onload=function(){n[e]=t,o()&&i.forEach(function(e){e()})},n[e]=!1,t.src=e}function o(){var e=!0;for(var t in n)n.hasOwnProperty(t)&&!n[t]&&(e=!1);return e}window.Resources={load:function(e){e instanceof Array?e.forEach(function(e){t(e)}):t(e)},get:function(e){return n[e]},onReady:function(e){i.push(e)},isReady:o}}();var h1=document.querySelector("h1"),div=document.querySelector("div"),passTxt=document.getElementById("txt"),counter=2,counterB=1,Enemy=function(e,t,n){this.x=e,this.y=t,this.speed=n,this.sprite="images/enemy-dem-2.png"};Enemy.prototype.update=function(e){var t=Math.floor(20*Math.random()+5);this.x=this.x+(this.speed+t)*counter*e,505<this.x&&(this.x=-15),this.checkCollisions()},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Enemy.prototype.checkCollisions=function(){player.x<this.x+75&&player.y<this.y+65&&this.x<player.x+75&&this.y<player.y+65&&(player.rePosition(),counter=1,div.innerHTML="<h1>Difficulty: ".concat(counter,"</h1>\n\t\t<h4>DJT Made America Great ").concat(counterB-1," Times</h4>"),counter=2)};var Player=function(e,t){this.x=e,this.y=t,this.sprite="images/char-djt-4.png"};Player.prototype.update=function(e){},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Player.prototype.handleInput=function(e){"left"===e||"a"===e?this.x=this.x-100:"right"===e||"d"===e?this.x=this.x+100:"up"===e||"w"===e?this.y=this.y-80:"down"!==e&&"s"!==e||(this.y=this.y+80),(405<this.x||450<this.y||this.x<0||this.y<-15)&&this.rePosition(),this.y<0&&(div.innerHTML="<h1>Difficulty: ".concat(counter++,"</h1>\n\t\t\t\t<h4>DJT Made America Great ").concat(counterB++," Times</h4>"),player.sprite="images/char-djt-won.png",this.x=200,this.y=390,mySweetAlert()),310<this.y&&this.sprite.includes("won")&&setTimeout(function(){player.sprite="images/char-djt-4.png"},2500)},Player.prototype.rePosition=function(){this.x=200,this.y=390,this.sprite="images/char-djt-4.png"};var enemy1=new Enemy(2,55,5),enemy2=new Enemy(102,139,10),enemy3=new Enemy(200,225,6),enemy1b=new Enemy(72,55,7),enemy2b=new Enemy(172,139,15),enemy3b=new Enemy(270,225,9),enemy1c=new Enemy(400,55,11),allEnemies=[enemy1,enemy2,enemy3,enemy1b,enemy2b,enemy3b,enemy1c],player=new Player(200,390);document.addEventListener("keyup",function(e){player.handleInput({37:"left",38:"up",39:"right",40:"down",65:"a",87:"w",68:"d",83:"s"}[e.keyCode])}),div.addEventListener("click",function(e){"H1"===e.target.tagName?(counter=1,div.innerHTML="<h1>Difficulty: ".concat(counter,"</h1>\n    \t<h4>DJT Made America Great ").concat(counterB-1," Times</h4>"),player.rePosition()):"H4"===e.target.tagName&&(counter=2,counterB=1,div.innerHTML='<h1>Difficulty: 1</h1>\n\t\t<p id="guide-1">Click \'Difficulty\' to reset the rounds.</p>\n    <p id="guide-2">Click the second text to reset the game.</p>\n    <p class="control">You may use \'WASD\' and Arrow keys to control Trump.</p>',player.rePosition())});var mySweetAlert=function(){var e;swal({title:"PASSED!",html:"Auto close in <strong></strong> MilliSec.",timer:1e3,onOpen:function(){swal.showLoading(),e=setInterval(function(){swal.getContent().querySelector("strong").textContent=swal.getTimerLeft()},100)},onClose:function(){clearInterval(e)}}).then(function(e){e.dismiss===swal.DismissReason.timer&&console.log("I was closed by the timer (mySweetAlert)")})},Engine=function(e){var n,t=e.document,i=e.window,o=t.createElement("canvas"),r=o.getContext("2d");function s(){var t,e=Date.now();t=(e-n)/1e3,allEnemies.forEach(function(e){e.update(t)}),player.update(),function(){var e,t,n=["images/water-block-2.png","images/stone-block.png","images/stone-block.png","images/stone-block.png","images/grass-block.png","images/grass-block.png"];for(r.clearRect(0,0,o.width,o.height),e=0;e<6;e++)for(t=0;t<5;t++)r.drawImage(Resources.get(n[e]),101*t,83*e);allEnemies.forEach(function(e){e.render()}),player.render()}(),n=e,i.requestAnimationFrame(s)}o.width=505,o.height=606,t.body.appendChild(o),Resources.load(["images/stone-block.png","images/water-block.png","images/water-block-2.png","images/grass-block.png","images/enemy-bug.png","images/enemy-dem-2.png","images/char-boy.png","images/char-princess-girl.png","images/char-djt-won.png","images/char-djt-4.png"]),Resources.onReady(function(){n=Date.now(),s()}),e.ctx=r}(this);